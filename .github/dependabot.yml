version: 2
updates:
  # GitHub Actions
  - package-ecosystem: github-actions # GitHub Actions 依赖更新
    directory: /
    schedule:
      interval: daily # 每天检查更新
    commit-message:
      prefix: ⬆
    labels: [dependencies, internal]
  # Python uv
  - package-ecosystem: uv # Python (backend) 依赖更新（使用 uv）
    directory: /backend
    schedule:
      interval: weekly # 每周检查更新
    commit-message:
      prefix: ⬆
    labels: [dependencies, internal]
  # npm
  - package-ecosystem: npm # 前端 npm 依赖更新
    directory: /frontend
    schedule:
      interval: weekly
    commit-message:
      prefix: ⬆
    labels: [dependencies, internal]
    ignore:
      - dependency-name: "@hey-api/openapi-ts" # 忽略特定包更新
  # Docker
  - package-ecosystem: docker # Docker 基础镜像更新
    directories:
      - /backend
      - /frontend
    schedule:
      interval: weekly
    commit-message:
      prefix: ⬆
    labels: [dependencies, internal]
  # Docker Compose
  - package-ecosystem: docker-compose # Docker Compose 服务镜像更新
    directory: /
    schedule:
      interval: weekly
    commit-message:
      prefix: ⬆
    labels: [dependencies, internal]
